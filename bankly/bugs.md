Bug #1 // Missing logic to valid JWT and validate against a JSON schema (which is missing) for posting a new user. Also, needed to import expressError into user.js in order to use for post route.
Bug #2 // In the "/login" route within the "auth.js" file, await was missing on the User.register line so it was causing the token to be returned and preventing the error message to be displayed, even if the password or username is incorrect.
Bug #3 // In the authUser() middleware function in auth.js, it was only using JWT.decode and now JWT.verify, which both decode the information, but only .verify should be used since it also makes sure that the signature hasnt been changed and the payload hasn't been tamered with.
Bug #4 // requireAdmin was being used as middleware for the PATCH user route. This was preventing users who wanted to patch their own properties.
Bug #5 // the user could change the admin status since it wasn't being recognized since we were require everyone to be an admin before. There needs to be logic in there that prevents an admin property to be passed through and should let the user know that is not allowed.
Bug #6 // No error hanlding or logic to prevent submissions to patch requests for properties that don't exist or aren't allowed to be changed other than admin.
Bug #7 // No error hanlding or logic to prevent submissions with no properties other than the JWT. If user tries, they will get a default error from postgreSQL.
Bug #8 // "module.exports = app" was listed twice at the bottom of app.js